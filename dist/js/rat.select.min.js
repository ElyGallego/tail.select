/*! pytesNET/rat.select | @version 1.0.0 | @license MIT | @copyright pytesNET <info@pytes.net> */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("rat.select",t):((e="undefined"!=typeof globalThis?globalThis:e||self).rat=e.rat||{},e.rat.select=t())}(this,(function(){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){for(var n=Object(e),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n}}),"function"!=typeof CustomEvent.constructor&&(CustomEvent.constructor=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n});var e=function(){function e(t){this.strings=e[t]||e.en}return e.prototype._=function(e,t){var n=e in this.strings?this.strings[e]:e;return void 0!==typeof t&&t.length>0&&t.map((function(e,t){var i=new RegExp("["+t+"]","g");return n.replace(i,e)})),n},e.en={key:"value"},e}(),t=function(){function e(e){this.plugins=e}return e.add=function(e,t,n){return!(e in this.plugins)&&(this.plugins[e]={config:t,hooks:n},!0)},e.prototype.hook=function(e){for(var t in this.plugins)this.plugins[t].hooks},e.plugins={},e}();function n(e,t){var n,i,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(s=2&r[0]?i.return:r[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}var i=function(){function e(e){if(this.select=e,this.source=e.source,[].map.call(this.source.querySelectorAll("options:not([value])"),(function(e){""!==e.innerText&&e.setAttribute("value",e.innerText)})),e.get("deselect")&&!e.get("multiple")){var t=this.source.querySelector("option:checked");t&&null===this.source.querySelector("option[selected]")&&(t.selected=!1,this.source.selectedIndex=-1)}}return e.prototype.create=function(e,t){var n=document.createElement("OPTION");return n.value=e,n.innerText=t.title,n.selected=t.selected||!1,n.disabled=t.disabled||!1,n.hidden=t.hidden||!1,t.description&&(n.dataset.description=t.description),n},e.prototype.parse=function(e){for(var t in e){if("string"==typeof e[t])var n=this.create(t,Object({title:e[t]}));else n=this.create(t,e[t]);this.set(n)}return this},e.prototype.walker=function(e,t){var i,s,r,o;return n(this,(function(t){switch(t.label){case 0:for(r in i=this.getGroups(!1),"function"==typeof e?i=e.call(this,i):"string"==typeof e&&(i="asc"===e.toLowerCase()?i.sort():i.sort().reverse()),i.unshift(null),s=[],i)s.push(r);o=0,t.label=1;case 1:return o<s.length?[4,s[o]]:[3,4];case 2:t.sent(),t.label=3;case 3:return o++,[3,1];case 4:return[2]}}))},e.prototype.get=function(){},e.prototype.getGroups=function(e){var t=this.source.querySelectorAll("optgroup");return e?t:[].map.call(t,(function(e){return e.label}))},e.prototype.count=function(){},e.prototype.set=function(e,t,n,i){return this},e.prototype.remove=function(){},e.prototype.reload=function(){},e.prototype.handle=function(){},e.prototype.selected=function(e,t){},e.prototype.disabled=function(e,t){},e.prototype.hidden=function(e,t){},e}(),s=function(){function n(s,r,o){this.source=s,this.config=r,this.options=new(o||i)(this),this.locale=new e(r.locale||"en"),this.plugins=new t(r.plugins||{}),this.events=r.on||{},this.config.multiple=this.source.multiple=r.multiple||s.multiple,this.config.disabled=this.source.disabled=r.disabled||s.disabled,this.config.required=this.source.required=r.required||s.required;var l=r.placeholder||s.dataset.placeholder||null;if(l&&""!==s.options[0].value||(l=s.options[0].innerText),this.config.placeholder=l,null===(r.rtl||null)&&(this.config.rtl=["ar","fa","he","mdr","sam","syr"].indexOf(r.locale||"en")>=0),null===(r.theme||null)){var c=document.createElement("SPAN");c.className="rat-select-theme-name",document.body.appendChild(c),this.config.theme=window.getComputedStyle(c,":after").content.replace(/"/g,""),document.body.removeChild(c)}s.dataset.ratSelect=n.inst.length.toString(),n.inst[n.inst.length++]=this,this.init()}return n.prototype.init=function(){if(this.trigger("hook","init:before"),void 0!==this.config.items){var e=this.config.items;this.options.parse("function"==typeof e?e.call(this,this.options):e)}return this.trigger("hook","build:before"),this.build(),this.trigger("hook","build:after"),this.trigger("hook","bind:before"),this.bind(),this.trigger("hook","bind:after"),this.source.nextElementSibling?this.source.parentElement.insertBefore(this.select,this.source.nextElementSibling):this.source.parentElement.appendChild(this.select),this.trigger("hook","init:after"),this.query("walker")},n.prototype.build=function(){var e=this,t=!0===this.get("classNames")?this.source.className:this.get("classNames","");this.select=document.createElement("DIV"),this.select.className=function(t){return e.get("rtl")&&t.unshift("rtl"),e.get("hideSelected")&&t.unshift("hide-selected"),e.get("hideDisabled")&&t.unshift("hide-disabled"),e.get("hideHidden",!0)&&t.unshift("hide-hidden"),e.get("disabled")&&t.unshift("disabled"),e.get("required")&&t.unshift("required"),e.get("multiple")&&t.unshift("multiple"),e.get("deselect")&&t.unshift("deselect"),t.unshift("rat-select theme-"+e.get("theme").replace("-"," scheme-").replace("."," ")),t.filter((function(e){return e.length>0})).join(" ")}("string"==typeof t?t.split(" "):t),this.select.tabIndex=this.source.tabIndex||0,this.select.dataset.ratSelect=this.source.dataset.ratSelect;var n,i=this.get("width",250);return null!==i&&(this.select.style.width=i+(isNaN(i)?"":"px")),this.label=document.createElement("LABEL"),this.label.className="select-label",this.label.innerHTML='<span class="label-inner">Test Placeholder</span>',this.dropdown=document.createElement("DIV"),this.dropdown.className="select-dropdown overflow-"+this.get("titleOverflow","clip"),this.dropdown.innerHTML='<div class="dropdown-inner"></div>',this.csv=document.createElement("INPUT"),this.csv.className="select-search",this.csv.name=(!0===(n=this.get("csvOutput",!1))&&(n=e.source.dataset.name||e.source.name||""),!1===n?"":n),this.select.appendChild(this.label),this.select.appendChild(this.dropdown),this.get("csvOutput")&&this.select.appendChild(this.csv),this},n.prototype.bind=function(){this.handle.bind(this);return document.addEventListener("keydown",this.handle),document.addEventListener("click",this.handle),this.get("sourceBind")&&this.source.addEventListener("change",this.handle),this},n.prototype.handle=function(e){console.log(e)},n.prototype.trigger=function(e,t,n){if("event"===e){var i={bubbles:!1,cancelable:!0,detail:{args:n,select:this}},s=new CustomEvent("rat::"+t,i);if(this.select.dispatchEvent(s),"change"===t){var r=new CustomEvent("input",i),o=new CustomEvent("change",i);this.source.dispatchEvent(r),this.source.dispatchEvent(o)}}return null},n.prototype.query=function(e,t,n,i){return this.trigger("hook","query:before",[]),this.trigger("hook","query:after"),this},n.prototype.render=function(){return this},n.prototype.update=function(){return this},n.prototype.open=function(){return this.select.classList.contains("active")||(this.select.classList.add("active"),this.trigger("event","open",[])),this},n.prototype.close=function(){return this.select.classList.contains("active")?(this.select.classList.remove("active"),this.trigger("event","close",[]),this):this},n.prototype.reload=function(e){return this},n.prototype.remove=function(){return this},n.prototype.value=function(e){switch(void 0!==e&&"auto"!==e||(e=this.source.multiple?"array":"csv"),e){case"csv":case"array":case"node":return null}return null},n.prototype.get=function(e,t){return e in this.config?this.config[e]:t},n.prototype.set=function(e,t,n){if(["multiple","disabled","required"].indexOf(e)>=0){if("disabled"===e)return this[t?"enable":"disable"](n);this.config[e]=this.source[e]=!!e}else this.config[e]=t;return n?this.reload():this},n.prototype.enable=function(e){return this.config.disabled=this.source.disabled=!1,this.select.classList.remove("disabled"),e?this.reload():this},n.prototype.disable=function(e){return this.config.disabled=this.source.disabled=!0,this.select.classList.add("disabled"),e?this.reload():this},n.prototype.on=function(e,t){var n=this;return e.split(",").map((function(e){n.events[e]=n.events[e]||[],n.events[e].push(t)})),this},n.inst={length:0},n.strings=e,n.plugins=t,n}();function r(e,t,n){var r=function(e){return e instanceof HTMLSelectElement?e.dataset.ratSelect?s.inst[e.dataset.ratSelect]:new s(e,t?Object.assign({},t):{},n||i):null};return"string"==typeof e&&(e=document.querySelectorAll(e)),e instanceof HTMLSelectElement?r(e):[].map.call(e,r)}return r.version="1.0.0",r.status="stable",r.Select=s,r.Options=i,r}));
/*! Visit this project on https://rat.md/select *///# sourceMappingURL=rat.select.min.js.map
