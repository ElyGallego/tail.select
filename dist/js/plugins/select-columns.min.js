/*! pytesNET/tail.select v{{ $data.version }}-beta | {{ $build }} | @copyright pytesNET <info@pytes.net> */
!function(t,e){"function"==typeof define&&define.amd?define(["tail.select"],e):"object"==typeof module&&module.exports?module.exports=e:e(t.tail.select)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(f){"use strict";var t={columns:1,groupCollapse:!1},e={"init:after":function(){var t=this.get("columns");return this.set("columns",t<1?1:5<t?5:t),!0},"bind:after":function(t){return this.get("groupCollapse")&&"click"===t.type&&t.target.classList.contains("optgroup-collapse")&&this.collapse(t.target.parentElement.parentElement),!0},"query:after":function(){if(!this.get("groupCollapse"))return!0;for(var t=this._dropdown.querySelectorAll("ul"),e=0;e<t.length;e++)t[e].style.maxHeight=t[e].offsetHeight+"px";return!0},"render#group":function(t){if(this.get("groupCollapse")&&t.querySelector("li.optgroup-title")){var e=f.__.create("SPAN","optgroup-collapse");e.setAttribute("data-collapse","true"),t.querySelector("li.optgroup-title").appendChild(e)}return[t]},dropdown:function(t){if(this.get("columns")<=1)return[t];for(var e=t.querySelectorAll("li"),o=parseInt(this.get("columns")),n=".".repeat(o-1).split(".").map(function(){return f.__.create("DIV","inner-column")}),l=e.length+(o-1),r=-1,i=null,s=0,u=0;u<e.length;s++,u++){var a=Math.max(Math.floor(s/Math.ceil(l/o)),r);if((a=Math.min(a,o-1))!==r||e[u].classList.contains("optgroup-title")||!i){if(!i||e[u].classList.contains("optgroup-title")){var p=e[u].parentElement.getAttribute("data-group"),c=this.e.querySelector("optgroup[label='"+p+"']");i=this.render("group",c,null)}else{var d=i.cloneNode(),p;if(i.querySelector(".optgroup-title b"))(p=i.querySelector(".optgroup-title").cloneNode(!0)).querySelector("b").innerText+=" ("+this._e("continue")+")",d.appendChild(p);i=d,s++}var g=Math.floor((s+1)/Math.ceil(l/o));r=a<g&&g<o?(s++,a=g):a,n[a].appendChild(i)}e[u].classList.contains("optgroup-title")||i.appendChild(e[u])}t.innerHTML="",t.classList.add("dropdown-columns"),t.classList.add("columns-"+this.get("columns"));for(var u=0;u<n.length;u++)t.appendChild(n[u]);return[t]}};return f.plugins.add("columns",t,e),f.strings.en.continue="Continue",f.prototype.collapse=function(t){return"string"==typeof t&&(t=this._dropdown.querySelector("ul[data-group='"+t+"']")),t instanceof HTMLElement&&t.classList.toggle("collapsed"),this},f});