/*! pytesNET/rat.select | @version 1.0.0 | @license MIT | @copyright pytesNET <info@pytes.net> */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("rat.select")):"function"==typeof define&&define.amd?define(["rat.select"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).rat.select)}(this,(function(e){"use strict";var t={"build:after":function(){this.search=document.createElement("INPUT"),this.search.type="text",this.search.className="dropdown-search",this.search.placeholder=this.locale._("search"),this.dropdown.insertBefore(this.search,this.dropdown.children[0])},"bind:after":function(){this.search.addEventListener("input",this.handler)},"handle:before":function(e){var t=this;if(e instanceof Event&&!this.get("disabled")&&"input"===e.type&&e.target===this.search){var i=e.target.value;if(i.length>=this.get("search.minimum",3)){var n=this.get("search.finder",this.options.finder);if(this.get("search.async")){var r=document.createElement("DIV");r.className="dropdown-spinner",this.dropdown.querySelector(".dropdown-inner").innerHTML=r.outerHTML,setTimeout((function(){t.query(n,[i,t.get("search.config",["text","visible"])])}),250)}else this.query(n,[i,this.get("search.config",["text","visible"])])}else this.state("search")&&(this.state("search",!1),this.query())}},open:function(){this.get("search.focus",!1)&&this.search.focus()}};e.Options.prototype.finder=function(e,t){var i=this;this.state("search",!0);var n={};if(t.map((function(e){return n["regex"===e?"regexp":e]=!0})),this.get("search.linguistic")){var r=this.get("search.linguistic",{}),s=Object.keys(r).map((function(e){return s.push("("+e+"|["+r[e]+"])")}));s.length>0&&(n.strict&&(s=s.concat(s.map((function(e){return e.toLocaleUpperCase()})))),e=e.replace(new RegExp(s.join("|"),n.strict?"g":"gi"),(function(e){return s[[].indexOf.call(arguments,e,1)-1]})))}var c,a,o=e;return n.regexp?(o=n.comma?"("+o.split(",").map((function(e){return e.trim()})).join("|")+")":o,o=n.whole?"\\b"+o+"\\b":o,c=function(e){return new RegExp(o,n.strict?"m":"mi").test(e)}):(o=n.strict?o.toLocaleLowerCase():o,c=function(t){return t=n.strict?t.toLocaleLowerCase():t,n.comma?e.split(",").some((function(e){return e.trim().indexOf(t)>=0})):t.indexOf(e)>=0}),a=n.any?function(e){return c(e.innerText)||[].some.call(e.attributes,c)}:n.attr?function(e){return[].some.call(e.attributes,c)}:n.visible?function(e){return c(e.innerText)||c(e.dataset.description||"")}:function(e){return c(e.innerText)},[].filter.call(this.source.options,(function(e){return a.call(i,e)}))},e.Plugins.add("search",{async:!1,config:["text"],finder:null,focus:!1,linguistic:null,mark:!1,minimum:3},t),e.Strings.en.search="Tap to search..."}));
/*! Visit this project on https://rat.md/select */