/*! pytesNET/rat.select | @version 1.0.0 | @license MIT | @copyright pytesNET <info@pytes.net> */
class e{constructor(t){this.strings=e[t]||e.en}_(e,t){let s=e in this.strings?this.strings[e]:e;return void 0!==typeof t&&t.length>0&&t.map(((e,t)=>{let i=new RegExp("["+t+"]","g");return s.replace(i,e)})),s}}e.en={key:"value"};class t{constructor(e){this.plugins=e}static add(e,t,s){return!(e in this.plugins)&&(this.plugins[e]={config:t,hooks:s},!0)}hook(e){for(let e in this.plugins)this.plugins[e].hooks}}t.plugins={};class s{constructor(e){if(this.select=e,this.source=e.source,[].map.call(this.source.querySelectorAll("options:not([value])"),(e=>{""!==e.innerText&&e.setAttribute("value",e.innerText)})),e.get("deselect")&&!e.get("multiple")){let e=this.source.querySelector("option:checked");e&&null===this.source.querySelector("option[selected]")&&(e.selected=!1,this.source.selectedIndex=-1)}}create(e,t){let s=document.createElement("OPTION");return s.value=e,s.innerText=t.title,s.selected=t.selected||!1,s.disabled=t.disabled||!1,s.hidden=t.hidden||!1,t.description&&(s.dataset.description=t.description),s}parse(e){for(let s in e){if("string"==typeof e[s])var t=this.create(s,Object({title:e[s]}));else t=this.create(s,e[s]);this.set(t)}return this}*walker(e,t){let s=this.getGroups(!1);"function"==typeof e?s=e.call(this,s):"string"==typeof e&&(s="asc"===e.toLowerCase()?s.sort():s.sort().reverse()),s.unshift(null);for(let e in s)yield e}get(){}getGroups(e){let t=this.source.querySelectorAll("optgroup");return e?t:[].map.call(t,(e=>e.label))}count(){}set(e,t,s,i){return this}remove(){}reload(){}handle(){}selected(e,t){}disabled(e,t){}hidden(e,t){}}class i{constructor(l,n,r){this.source=l,this.config=n,this.options=new(r||s)(this),this.locale=new e(n.locale||"en"),this.plugins=new t(n.plugins||{}),this.events=n.on||{},this.config.multiple=this.source.multiple=n.multiple||l.multiple,this.config.disabled=this.source.disabled=n.disabled||l.disabled,this.config.required=this.source.required=n.required||l.required;let h=n.placeholder||l.dataset.placeholder||null;if(h&&""!==l.options[0].value||(h=l.options[0].innerText),this.config.placeholder=h,null===(n.rtl||null)&&(this.config.rtl=["ar","fa","he","mdr","sam","syr"].indexOf(n.locale||"en")>=0),null===(n.theme||null)){let e=document.createElement("SPAN");e.className="rat-select-theme-name",document.body.appendChild(e),this.config.theme=window.getComputedStyle(e,":after").content.replace(/"/g,""),document.body.removeChild(e)}l.dataset.ratSelect=i.inst.length.toString(),i.inst[i.inst.length++]=this,this.init()}init(){if(this.trigger("hook","init:before"),void 0!==this.config.items){let e=this.config.items;this.options.parse("function"==typeof e?e.call(this,this.options):e)}return this.trigger("hook","build:before"),this.build(),this.trigger("hook","build:after"),this.trigger("hook","bind:before"),this.bind(),this.trigger("hook","bind:after"),this.source.nextElementSibling?this.source.parentElement.insertBefore(this.select,this.source.nextElementSibling):this.source.parentElement.appendChild(this.select),this.trigger("hook","init:after"),this.query("walker")}build(){let e=!0===this.get("classNames")?this.source.className:this.get("classNames","");this.select=document.createElement("DIV"),this.select.className=(e=>(this.get("rtl")&&e.unshift("rtl"),this.get("hideSelected")&&e.unshift("hide-selected"),this.get("hideDisabled")&&e.unshift("hide-disabled"),this.get("hideHidden",!0)&&e.unshift("hide-hidden"),this.get("disabled")&&e.unshift("disabled"),this.get("required")&&e.unshift("required"),this.get("multiple")&&e.unshift("multiple"),this.get("deselect")&&e.unshift("deselect"),e.unshift(`rat-select theme-${this.get("theme").replace("-"," scheme-").replace("."," ")}`),e.filter((e=>e.length>0)).join(" ")))("string"==typeof e?e.split(" "):e),this.select.tabIndex=this.source.tabIndex||0,this.select.dataset.ratSelect=this.source.dataset.ratSelect;let t=this.get("width",250);return null!==t&&(this.select.style.width=t+(isNaN(t)?"":"px")),this.label=document.createElement("LABEL"),this.label.className="select-label",this.label.innerHTML='<span class="label-inner">Test Placeholder</span>',this.dropdown=document.createElement("DIV"),this.dropdown.className=`select-dropdown overflow-${this.get("titleOverflow","clip")}`,this.dropdown.innerHTML='<div class="dropdown-inner"></div>',this.csv=document.createElement("INPUT"),this.csv.className="select-search",this.csv.name=(e=>(!0===e&&(e=this.source.dataset.name||this.source.name||""),!1===e?"":e))(this.get("csvOutput",!1)),this.select.appendChild(this.label),this.select.appendChild(this.dropdown),this.get("csvOutput")&&this.select.appendChild(this.csv),this}bind(){this.handle.bind(this);return document.addEventListener("keydown",this.handle),document.addEventListener("click",this.handle),this.get("sourceBind")&&this.source.addEventListener("change",this.handle),this}handle(e){console.log(e)}trigger(e,t,s){if("event"===e){let e={bubbles:!1,cancelable:!0,detail:{args:s,select:this}},i=new CustomEvent(`rat::${t}`,e);if(this.select.dispatchEvent(i),"change"===t){let t=new CustomEvent("input",e),s=new CustomEvent("change",e);this.source.dispatchEvent(t),this.source.dispatchEvent(s)}}return null}query(e,t,s,i){return this.trigger("hook","query:before",[]),this.trigger("hook","query:after"),this}render(){return this}update(){return this}open(){return this.select.classList.contains("active")||(this.select.classList.add("active"),this.trigger("event","open",[])),this}close(){return this.select.classList.contains("active")?(this.select.classList.remove("active"),this.trigger("event","close",[]),this):this}reload(e){return this}remove(){return this}value(e){switch(void 0!==e&&"auto"!==e||(e=this.source.multiple?"array":"csv"),e){case"csv":case"array":case"node":return null}return null}get(e,t){return e in this.config?this.config[e]:t}set(e,t,s){if(["multiple","disabled","required"].indexOf(e)>=0){if("disabled"===e)return this[t?"enable":"disable"](s);this.config[e]=this.source[e]=!!e}else this.config[e]=t;return s?this.reload():this}enable(e){return this.config.disabled=this.source.disabled=!1,this.select.classList.remove("disabled"),e?this.reload():this}disable(e){return this.config.disabled=this.source.disabled=!0,this.select.classList.add("disabled"),e?this.reload():this}on(e,t){return e.split(",").map((e=>{this.events[e]=this.events[e]||[],this.events[e].push(t)})),this}}function l(e,t,l){let n=e=>e instanceof HTMLSelectElement?e.dataset.ratSelect?i.inst[e.dataset.ratSelect]:new i(e,t?Object.assign({},t):{},l||s):null;return"string"==typeof e&&(e=document.querySelectorAll(e)),e instanceof HTMLSelectElement?n(e):[].map.call(e,n)}i.inst={length:0},i.strings=e,i.plugins=t,l.version="1.0.0",l.status="stable",l.Select=i,l.Options=s;export default l;
/*! Visit this project on https://rat.md/select *///# sourceMappingURL=rat.select.min.js.map
